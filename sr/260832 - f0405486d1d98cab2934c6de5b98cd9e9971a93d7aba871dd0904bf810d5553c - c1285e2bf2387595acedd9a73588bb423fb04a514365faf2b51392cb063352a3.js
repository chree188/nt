var Games=function(){LocalContractStorage.defineMapProperty(this,"items");LocalContractStorage.defineMapProperty(this,"rank")};Games.prototype={init:function(){var ss=[];var val=JSON.stringify(ss);this.rank.set("value",val)},begin:function(begin){var address=Blockchain.transaction.from;this.items.set(address,begin)},order:function(name,score){var obj={};obj.score=score;obj.name=name;var rank=this.rank.get("value");rank=JSON.parse(rank);var len=rank.length;if(len==0){rank.push(obj)}else{if(len==1){if(rank[0].score>=obj.score){rank.push(obj)}else{rank.unshift(obj)}}else{if(len>=2){for(var i=0;i<len;i++){if(rank[i].score<obj.score){if(i===0){rank.unshift(obj);break}else{rank.splice(i-1,0,obj);break}}if(i===len-1){rank.push(obj)}}}}}this.rank.set("value",JSON.stringify(rank))},getOrder:function(){return this.rank.get("value")}};module.exports=Games;