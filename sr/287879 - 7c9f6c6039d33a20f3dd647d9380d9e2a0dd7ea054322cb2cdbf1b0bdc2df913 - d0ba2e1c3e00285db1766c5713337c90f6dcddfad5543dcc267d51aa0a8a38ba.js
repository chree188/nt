"use strict";var Resume=function(){LocalContractStorage.defineMapProperty(this,"resumeArr");LocalContractStorage.defineMapProperty(this,"hrArr");LocalContractStorage.defineMapProperty(this,"resumeObj");LocalContractStorage.defineMapProperty(this,"hrObj");LocalContractStorage.defineMapProperty(this,"address");LocalContractStorage.defineMapProperty(this,"other")};Resume.prototype={init:function(){var a=[];this.hrArr.set("items",JSON.stringify(a));this.resumeArr.set("items",JSON.stringify(a))},addHr:function(a,i,k,c,j,m,l){var d=Blockchain.transaction.from;var b=this.hrArr.get("items");b=JSON.parse(b);var g={};var f=b.length;g.id=b.length;g.fail=0;b.push(g);this.hrArr.set("items",JSON.stringify(b));var h={};h.hrId=f;h.timestamp=+new Date();h.name=a;h.pic=i;h.company=k;h.job=c;h.phone=j;h.jobaddr=m;h.skill=l;this.hrObj.set(f+"",h);var e=this.address.get(d+"");if(e){e=JSON.parse(e);e.hr.push(f);e=JSON.stringify(e);this.address.set(d+"",e)}else{var n={};n.hr=[f];n.resume=[];var o=JSON.stringify(n);this.address.set(d+"",e)}},addResume:function(b,j,o,d,k,m,l,e){var c=Blockchain.transaction.from;var a=this.resumeArr.get("items");a=JSON.parse(a);var h=0;var g={};g.fail=0;g.id=a.length;h=a.length;a.push(g);this.resumeArr.set("items",JSON.stringify(a));var i={};i.resumeId=g.id;i.timestamp=+new Date();i.name=b;i.pic=j;i.salary=o;i.job=d;i.phone=k;i.jobaddr=m;i.skill=l;i.jobage=e;this.resumeObj.set(h+"",i);var f=this.address.get(c+"");if(f){f=JSON.parse(f);f.resume.push(h);f=JSON.stringify(f);this.address.set(c+"",f)}else{var n={};n.resume=[h];n.hr=[];var p=JSON.stringify(n);this.address.set(c+"",f)}},getFiveHr:function(){var e=this.hrArr.get("items");e=JSON.parse(e);var b=e.length;var a=[];for(var c=b-1;c>=0;c--){if(!e[c].fail){var d=this.hrObj.get(e[c].id+"");a.push(d);if(a.length===5){break}}}return JSON.stringify(a)},getFiveResume:function(){var e=this.resumeArr.get("items");e=JSON.parse(e);var b=e.length;var a=[];for(var c=b-1;c>=0;c--){if(!e[c].fail){var d=this.resumeObj.get(e[c].id+"");a.push(d);if(a.length===5){break}}}return JSON.stringify(a)},getAllHr:function(){var e=this.hrArr.get("items");e=JSON.parse(e);var b=e.length;var a=[];for(var c=b-1;c>=0;c--){if(!e[c].fail){var d=this.hrObj.get(e[c].id+"");a.push(d)}}return JSON.stringify(a)},getAllResume:function(){var e=this.resumeArr.get("items");e=JSON.parse(e);var b=e.length;var a=[];for(var c=b-1;c>=0;c--){if(!parseInt(e[c].fail)){var d=this.resumeObj.get(e[c].id+"");a.push(d)}}return JSON.stringify(a)},getResumeById:function(a){this.other.set("value",2);return this.resumeObj.get(a)},getHrById:function(a){this.other.set("value",2);return this.hrObj.get(a)}};module.exports=Resume;