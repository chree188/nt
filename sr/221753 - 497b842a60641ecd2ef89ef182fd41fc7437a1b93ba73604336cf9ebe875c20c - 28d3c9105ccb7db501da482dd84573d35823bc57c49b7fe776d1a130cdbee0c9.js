"use strict";var Wallpaper=function(text){if(text){var obj=JSON.parse(text);this.id=obj.id;this.sip="";this.bip=""}else{this.id="";this.sip="";this.bip=""}};Wallpaper.prototype={toString:function(){return JSON.stringify(this)}};var WallpaperContract=function(){LocalContractStorage.defineMapProperty(this,"wallpaperMap",{parse:function(text){return new Wallpaper(text)},stringify:function(o){return o.toString()}});LocalContractStorage.defineProperty(this,"size");LocalContractStorage.defineProperty(this,"url");LocalContractStorage.defineProperty(this,"suffixS");LocalContractStorage.defineProperty(this,"suffixB")};WallpaperContract.prototype={init:function(){this.size=0;this.url="http://p88vmzsqy.bkt.clouddn.com/";this.suffixS="s.jpg";this.suffixB="b.jpg";for(var i=0;i<50;i++){var wallpaper=new Wallpaper();wallpaper.id=i;this.wallpaperMap.put(i,wallpaper);this.size+=1}},len:function(){return this.size},list:function(){var wallpaperArray=[];for(var i=0;i<200;i++){var wallpaper=this.wallpaperMap.get(i);if(!wallpaper){continue}wallpaper.sip=this.url+i+this.suffixS;wallpaperArray.push(wallpaper)}return wallpaperArray},save:function(){var wallpaper=new Wallpaper();wallpaper.id=this.size;this.wallpaperMap.put(this.size,wallpaper);this.size+=1},get:function(key){key=key.trim();if(!key){throw new Error("key Can not be empty")}var wallpaper=this.wallpaperMap.get(key);if(!wallpaper){throw new Error("key does not exist")}wallpaper.bip=this.url+key+this.suffixB;return wallpaper},del:function(key){return this.wallpaperMap.del(key)}};module.exports=WallpaperContract;